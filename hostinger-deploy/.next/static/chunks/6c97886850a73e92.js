(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78829,e=>{"use strict";var t=e.i(23453),a=e.i(86536);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},40306,e=>{"use strict";var t=e.i(23453),a=e.i(86536);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},57601,e=>{"use strict";var t=e.i(23453),a=e.i(77164),s=e.i(6015),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(86536);function n({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],57601)},7689,e=>{"use strict";let t=(0,e.i(76547).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7689)},13009,e=>{"use strict";let t=(0,e.i(76547).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],13009)},78508,e=>{"use strict";var t=e.i(23453),a=e.i(77164),s=e.i(96348),r=e.i(90317),i=e.i(6359),n=e.i(87963),d=e.i(32863),l=e.i(36336),c=e.i(6015),o="Switch",[u,h]=(0,i.createContextScope)(o),[p,m]=u(o),x=a.forwardRef((e,i)=>{let{__scopeSwitch:d,name:l,checked:o,defaultChecked:u,required:h,disabled:m,value:x="on",onCheckedChange:g,form:v,...j}=e,[y,N]=a.useState(null),w=(0,r.useComposedRefs)(i,e=>N(e)),k=a.useRef(!1),C=!y||v||!!y.closest("form"),[S=!1,F]=(0,n.useControllableState)({prop:o,defaultProp:u,onChange:g});return(0,t.jsxs)(p,{scope:d,checked:S,disabled:m,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":f(S),"data-disabled":m?"":void 0,disabled:m,value:x,...j,ref:w,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{F(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,t.jsx)(b,{control:y,bubbles:!k.current,name:l,value:x,checked:S,required:h,disabled:m,form:v,style:{transform:"translateX(-100%)"}})]})});x.displayName=o;var g="SwitchThumb",v=a.forwardRef((e,a)=>{let{__scopeSwitch:s,...r}=e,i=m(g,s);return(0,t.jsx)(c.Primitive.span,{"data-state":f(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});v.displayName=g;var b=e=>{let{control:s,checked:r,bubbles:i=!0,...n}=e,c=a.useRef(null),o=(0,d.usePrevious)(r),u=(0,l.useSize)(s);return a.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(a)}},[o,r,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(e){return e?"checked":"unchecked"}var j=e.i(86536);function y({className:e,...a}){return(0,t.jsx)(x,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(v,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],78508)},84076,e=>{"use strict";let t=(0,e.i(76547).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],84076)},7270,e=>{"use strict";var t=e.i(23453),a=e.i(77164),s=e.i(82399),r=e.i(22067),i=e.i(51018),n=e.i(3199),d=e.i(78829),l=e.i(57601),c=e.i(40306),o=e.i(78508),u=e.i(72979),h=e.i(84076),p=e.i(13009),m=e.i(46558),x=e.i(7689),g=e.i(36016);function v({params:e}){let{id:v}=(0,a.use)(e),b=(0,s.useRouter)(),{products:f,updateProduct:j,categories:y}=(0,r.useAdmin)(),N=f.find(e=>e.id===v),[w,k]=(0,a.useState)({name:"",description:"",price:"",category:"",badge:"",inStock:!0,isFeatured:!1,isNewArrival:!1,isFestival:!1}),[C,S]=(0,a.useState)([]),[F,P]=(0,a.useState)([]),[A,L]=(0,a.useState)({name:"",price:""});return((0,a.useEffect)(()=>{N&&(k({name:N.name,description:N.description,price:N.price.toString(),category:N.category,badge:N.badge||"",inStock:N.inStock,isFeatured:N.isFeatured||!1,isNewArrival:N.isNewArrival||!1,isFestival:N.isFestival||!1}),S(N.images),P(N.sizes||[]))},[N]),N)?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(g.default,{href:"/admin/products",children:(0,t.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(h.ArrowLeft,{className:"h-5 w-5"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-serif text-3xl font-semibold text-foreground",children:"Edit Product"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Update product information"})]})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),j(v,{name:w.name,description:w.description,price:Number(w.price),images:C.length>0?C:["/placeholder.svg"],category:w.category,badge:w.badge||void 0,sizes:F.length>0?F:void 0,inStock:w.inStock,isFeatured:w.isFeatured,isNewArrival:w.isNewArrival,isFestival:w.isFestival}),b.push("/admin/products")},className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Product Information"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"name",children:"Product Name *"}),(0,t.jsx)(n.Input,{id:"name",value:w.name,onChange:e=>k({...w,name:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"description",children:"Description *"}),(0,t.jsx)(d.Textarea,{id:"description",rows:4,value:w.description,onChange:e=>k({...w,description:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"price",children:"Price (₹) *"}),(0,t.jsx)(n.Input,{id:"price",type:"number",value:w.price,onChange:e=>k({...w,price:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"category",children:"Category *"}),(0,t.jsxs)(u.Select,{value:w.category,onValueChange:e=>k({...w,category:e}),children:[(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{placeholder:"Select category"})}),(0,t.jsx)(u.SelectContent,{children:y.map(e=>(0,t.jsx)(u.SelectItem,{value:e.slug,children:e.name},e.id))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"badge",children:"Badge (optional)"}),(0,t.jsx)(n.Input,{id:"badge",placeholder:"e.g., Best Seller, 60 Min Delivery",value:w.badge,onChange:e=>k({...w,badge:e.target.value})})]})]})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Product Images"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[C.map((e,a)=>(0,t.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted",children:[(0,t.jsx)("img",{src:e||"/placeholder.svg",alt:"",className:"object-cover w-full h-full"}),(0,t.jsx)("button",{type:"button",onClick:()=>{S(e=>e.filter((e,t)=>t!==a))},className:"absolute top-2 right-2 p-1 bg-background/80 rounded-full hover:bg-background",children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})]},a)),(0,t.jsxs)("label",{className:"aspect-square rounded-lg border-2 border-dashed border-border flex flex-col items-center justify-center cursor-pointer hover:border-primary transition-colors",children:[(0,t.jsx)(p.Upload,{className:"h-6 w-6 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground mt-2",children:"Upload"}),(0,t.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t=new FileReader;t.onloadend=()=>{S(e=>[...e,t.result])},t.readAsDataURL(e)})},className:"hidden"})]})]})})]}),(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Product Sizes (Optional)"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[F.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:F.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["₹",e.price]}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{P(e=>e.filter((e,t)=>t!==a))},children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})]})]},a))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{placeholder:"Size name (e.g., 6x8 inch)",value:A.name,onChange:e=>L({...A,name:e.target.value})}),(0,t.jsx)(n.Input,{type:"number",placeholder:"Price",value:A.price,onChange:e=>L({...A,price:e.target.value}),className:"w-32"}),(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>{A.name&&A.price&&(P(e=>[...e,{name:A.name,price:Number(A.price)}]),L({name:"",price:""}))},className:"bg-transparent",children:(0,t.jsx)(x.Plus,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Card,{children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Status"})}),(0,t.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.Label,{htmlFor:"inStock",children:"In Stock"}),(0,t.jsx)(o.Switch,{id:"inStock",checked:w.inStock,onCheckedChange:e=>k({...w,inStock:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.Label,{htmlFor:"isFeatured",children:"Featured"}),(0,t.jsx)(o.Switch,{id:"isFeatured",checked:w.isFeatured,onCheckedChange:e=>k({...w,isFeatured:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.Label,{htmlFor:"isNewArrival",children:"New Arrival"}),(0,t.jsx)(o.Switch,{id:"isNewArrival",checked:w.isNewArrival,onCheckedChange:e=>k({...w,isNewArrival:e})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.Label,{htmlFor:"isFestival",children:"Festival Item"}),(0,t.jsx)(o.Switch,{id:"isFestival",checked:w.isFestival,onCheckedChange:e=>k({...w,isFestival:e})})]})]})]}),(0,t.jsx)(i.Button,{type:"submit",size:"lg",className:"w-full",children:"Update Product"})]})]})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Product not found"})})}e.s(["default",()=>v])}]);